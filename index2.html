<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ZXS Movie Launcher</title>
  <link rel="icon" type="image/x-icon" href="pbmovies.png" />
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;500;700&display=swap" rel="stylesheet" />
  <style>
    /* Body and Background */
    body {
      font-family: 'Orbitron', sans-serif;
      margin: 0;
      padding: 0;
      background: linear-gradient(135deg, #0a1e0a, #153015 45%, #122b12);
      color: #cdeac0;
      overflow-x: hidden;
      position: relative;
    }

    /* Subtle animated grid background lines for tech vibe */
    body::before {
      content: "";
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-image:
        linear-gradient(90deg, rgba(140, 210, 140, 0.1) 1px, transparent 1px),
        linear-gradient(180deg, rgba(140, 210, 140, 0.1) 1px, transparent 1px);
      background-size: 48px 48px;
      z-index: 0;
      animation: moveGrid 24s linear infinite;
    }
    @keyframes moveGrid {
      from { background-position: 0 0; }
      to { background-position: 48px 48px; }
    }

    /* Header */
    h1 {
      text-align: center;
      margin: 28px 0;
      font-size: 3.8rem;
      color: #93c572;
      text-shadow:
        0 0 7px #aade99,
        0 0 14px #6ba139;
      user-select: none;
      position: relative;
      z-index: 2;
    }

    /* Tabs container */
    .tab-container {
      display: flex;
      justify-content: center;
      margin: 22px 0 28px 0;
      position: relative;
      z-index: 2;
    }

    /* Tab buttons */
    .tab-button {
      padding: 12px 30px;
      margin: 0 16px;
      font-size: 17px;
      border: none;
      color: #b9dfb2;
      background: transparent;
      cursor: pointer;
      border-radius: 55px;
      transition: color 0.3s ease, transform 0.3s ease;
      position: relative;
      font-weight: 500;
      outline-offset: 4px;
      outline-style: solid;
      outline-width: 2.5px;
      outline-color: transparent;
      user-select: none;
    }

    /* Cloak effect for active tab inspired by Google Classroom tabs */
    .tab-button.active {
      color: #1f441f;
      background: linear-gradient(90deg, #b6d77a, #93c572);
      box-shadow:
        inset 0 -4px 0 #5c7c27,
        0 10px 30px rgba(147,197,114, 0.7);
      font-weight: 700;
    }
    .tab-button.active::after {
      content: "";
      position: absolute;
      bottom: -10px;
      left: 22%;
      width: 56%;
      height: 6px;
      background: linear-gradient(90deg, #749f2a, #bbd86d, #749f2a);
      border-radius: 10px;
      animation: glowPulse 2.8s infinite alternate ease-in-out;
      filter: drop-shadow(0 0 7px #bbd86d);
      z-index: -1;
    }
    @keyframes glowPulse {
      0% {
        opacity: 0.6;
        transform: scaleX(1);
      }
      100% {
        opacity: 1;
        transform: scaleX(1.1);
      }
    }

    /* Hover effect on tabs */
    .tab-button:not(.active):hover {
      color: #b8f595;
      transform: scale(1.12);
      outline-color: #93c572;
    }

    /* Container styling */
    .container {
      max-width: 860px;
      margin: 0 auto 40px auto;
      padding: 42px 42px;
      border-radius: 24px;
      background-color: #1a341a;
      border: 3px solid #7da63f;
      box-shadow:
        0 0 36px rgba(147, 197, 114, 0.3),
        inset 0 0 38px rgba(147, 197, 114, 0.42);
      position: relative;
      z-index: 2;
      transition: box-shadow 0.3s ease;
    }
    .container:hover {
      box-shadow:
        0 0 60px rgba(147, 197, 114, 0.75),
        inset 0 0 56px rgba(147, 197, 114, 0.6);
    }

    /* Input and select containers */
    .input-container {
      display: flex;
      flex-wrap: wrap;
      gap: 20px;
      justify-content: center;
      margin-bottom: 36px;
    }

    /* Inputs, selects, buttons */
    input,
    select {
      padding: 14px 20px;
      font-size: 16px;
      border-radius: 18px;
      background: #274127;
      border: 2.5px solid #578538;
      color: #e4f6d7;
      flex: 1 1 170px;
      min-width: 150px;
      transition:
        background-color 0.4s ease,
        border-color 0.3s ease,
        box-shadow 0.3s ease;
    }
    input::placeholder,
    select::placeholder {
      color: #a5c387;
    }
    input:focus,
    select:focus {
      outline: none;
      background: #355a35;
      border-color: #c0e07c;
      box-shadow: 0 0 15px 4px #b0d47baa;
    }

    button {
      background: linear-gradient(135deg, #a6d354, #578538);
      border: none;
      border-radius: 48px;
      padding: 16px 32px;
      color: #1b341b;
      font-weight: 700;
      cursor: pointer;
      flex: 0 0 auto;
      box-shadow:
        0 0 18px #b3df7d,
        inset 0 0 12px #ccf28f;
      transition: transform 0.3s ease, box-shadow 0.3s ease;
      user-select: none;
    }
    button:hover {
      transform: scale(1.13);
      box-shadow:
        0 0 35px #c4ed96,
        inset 0 0 18px #dcffad;
    }
    button:focus {
      outline: none;
      box-shadow:
        0 0 45px #d7ffa3,
        inset 0 0 24px #eaffbf;
    }

    /* Iframe player styling */
    iframe {
      width: 100%;
      height: 460px;
      border: 3px solid #84a849;
      border-radius: 26px;
      background-color: #1e3c1e;
      box-shadow:
        0 0 45px rgb(147 197 114 / 0.7),
        inset 0 0 55px rgb(147 197 114 / 0.6);
      transition: transform 0.3s ease, box-shadow 0.3s ease;
      user-select: none;
    }
    iframe:hover {
      transform: scale(1.025);
      box-shadow:
        0 0 70px rgb(147 197 114 / 0.95),
        inset 0 0 80px rgb(147 197 114 / 0.85);
    }

    /* Search results styling */
    .search-results {
      margin-top: 30px;
    }
    .search-item {
      padding: 18px 22px;
      margin: 10px 0;
      border-radius: 16px;
      border: 2.5px solid #92bb5e;
      background: #2d5932;
      color: #dcf2ac;
      cursor: pointer;
      font-weight: 600;
      transition: all 0.3s ease;
      user-select: none;
      box-shadow: 0 0 10px #b7d37d;
    }
    .search-item:hover {
      background: #a4c977;
      color: #224314;
      border-color: #7bb32c;
      box-shadow: 0 0 26px #9ad13e;
      transform: scale(1.06);
    }

    /* Number inputs fix for arrows */
    input[type=number]::-webkit-inner-spin-button,
    input[type=number]::-webkit-outer-spin-button {
      -webkit-appearance: none;
      margin: 0;
    }

    /* Logged TMDB ID lists styling */
    .logged-ids {
      margin-top: 12px;
      padding: 18px 20px;
      border-radius: 14px;
      background: #224314cc;
      border: 2px solid #7cb544cc;
      max-height: 140px;
      overflow-y: auto;
      user-select: none;
    }
    .logged-ids h3 {
      margin: 0 0 10px 0;
      font-weight: 700;
      color: #bbd86d;
      text-shadow: 0 0 6px #d7f59f;
    }
    .logged-ids ul {
      padding-left: 20px;
      margin: 0;
      list-style-type: decimal;
      color: #e9f8c5;
      font-size: 15px;
      line-height: 1.38;
    }
  </style>
</head>
<body>
  <h1>ZXS MOVIE LAUNCHER</h1>
  <div class="tab-container">
    <button class="tab-button active" onclick="showTab('movies')">Movies</button>
    <button class="tab-button" onclick="showTab('tvshows')">TV Shows</button>
    <button class="tab-button" onclick="showTab('search')">Search</button>
  </div>

  <!-- Movies Tab -->
  <div id="movies" class="container">
    <div class="input-container">
      <input id="movieMediaId" type="text" placeholder="Enter Movie TMDB ID" />
      <select id="movieProvider">
        <option value="vidsrc">Vidsrc (.to)</option>
        <option value="frembed">Vidsrc (.xyz)</option>
        <option value="autoembed">Vidsrc (.in)</option>
        <option value="upcloud">Vidsrc (.cc)</option>
        <option value="smashystream">Vidsrc (.net)</option>
        <option value="superembed">Embedsu</option>
      </select>
      <button onclick="playMovie()">Play Movie</button>
    </div>
    <iframe id="moviePlayer" src="" allowfullscreen></iframe>
    <div class="logged-ids" id="movieLog">
      <h3>Logged Movie TMDB IDs</h3>
      <ul id="movieIdList"></ul>
    </div>
  </div>

  <!-- TV Shows Tab -->
  <div id="tvshows" class="container" style="display: none;">
    <div class="input-container">
      <input id="tvMediaId" type="text" placeholder="Enter TV Show TMDB ID" />
      <input id="seasonNumber" type="number" placeholder="Season" min="1" />
      <input id="episodeNumber" type="number" placeholder="Episode" min="1" />
      <select id="tvProvider">
        <option value="vidsrc">Vidsrc (.to)</option>
        <option value="frembed">Vidsrc (.xyz)</option>
        <option value="autoembed">Vidsrc (.in)</option>
        <option value="smashystream">Vidsrc (.net)</option>
        <option value="upcloud">Vidsrc (.cc)</option>
        <option value="superembed">Embedsu</option>
      </select>
      <button onclick="playTvShow()">Play TV Show</button>
    </div>
    <iframe id="tvPlayer" src="" allowfullscreen></iframe>
    <div class="logged-ids" id="tvLog">
      <h3>Logged TV Show TMDB IDs</h3>
      <ul id="tvIdList"></ul>
    </div>
  </div>
    <!-- ✅ New Episode Navigation Buttons -->
  <div class="input-container" style="justify-content: center; margin-top: 15px;">
    <button onclick="previousEpisode()">⏮ Previous Episode</button>
    <button onclick="nextEpisode()">⏭ Next Episode</button>
  </div>
</div>

  <!-- Search Tab -->
  <div id="search" class="container" style="display: none;">
    <div class="input-container">
      <input id="searchQuery" type="text" placeholder="Search TMDB for a movie or TV show" />
      <button onclick="searchContent()">Search</button>
    </div>
    <div id="searchResults" class="search-results"></div>
  </div>

  <script>
    const apiKey = 'a24c4f9e8a288d266b2453d737f19f54';

    // Store TMDB IDs
    const movieIdSet = new Set();
    const tvIdSet = new Set();

    // Function to update list display
    function updateIdList(logId, idSet) {
      const list = document.getElementById(logId);
      list.innerHTML = '';
      idSet.forEach(id => {
        const li = document.createElement('li');
        li.textContent = id;
        list.appendChild(li);
      });
    }

    // Show tab
    function showTab(tab) {
      const movies = document.getElementById('movies');
      const tvshows = document.getElementById('tvshows');
      const search = document.getElementById('search');
      const buttons = document.querySelectorAll('.tab-button');
      movies.style.display = 'none';
      tvshows.style.display = 'none';
      search.style.display = 'none';
      if (tab === 'movies') movies.style.display = 'block';
      if (tab === 'tvshows') tvshows.style.display = 'block';
      if (tab === 'search') search.style.display = 'block';
      buttons.forEach(button => button.classList.remove('active'));
      document.querySelector(`.tab-button[onclick="showTab('${tab}')"]`).classList.add('active');
    }

    async function searchContent() {
      const query = document.getElementById("searchQuery").value.trim();
      const resultsContainer = document.getElementById("searchResults");
      if (!query) return alert("Please enter a search term.");
      const response = await fetch(
        `https://api.themoviedb.org/3/search/multi?api_key=${apiKey}&query=${query}`
      );
      const data = await response.json();
      resultsContainer.innerHTML = '';
      if (!data.results.length) {
        resultsContainer.innerHTML = 'No results found.';
        return;
      }
      data.results.forEach(item => {
        const div = document.createElement("div");
        div.classList.add("search-item");
        div.textContent = `${item.title || item.name} (${item.media_type})`;
        div.onclick = () => showMedia(item.id, item.media_type);
        resultsContainer.appendChild(div);
      });
    }

    function showMedia(id, type) {
      if (type === "movie") {
        document.getElementById("movieMediaId").value = id;
        showTab('movies');
      } else if (type === "tv") {
        document.getElementById("tvMediaId").value = id;
        showTab('tvshows');
      }
    }

    // Play movie and log ID
    function playMovie() {
      const mediaId = document.getElementById("movieMediaId").value.trim();
      if (!mediaId) return alert("Please enter a TMDB ID for the movie.");
      const provider = document.getElementById("movieProvider").value;
      let url = "";
      switch (provider) {
        case "frembed":
          url = `https://vidsrc.xyz/embed/movie/${mediaId}`;
          break;
        case "superembed":
          url = `https://embed.su/embed/movie/${mediaId}`;
          break;
        case "smashystream":
          url = `https://vidsrc.net/embed/movie/${mediaId}`;
          break;
        case "autoembed":
          url = `https://vidsrc.in/embed/movie/${mediaId}`;
          break;
        case "upcloud":
          url = `https://vidsrc.cc/embed/movie/${mediaId}`;
          break;
        case "vidsrc":
          url = `https://vidsrc.to/embed/movie/${mediaId}`;
          break;
      }
      document.getElementById("moviePlayer").src = url;

      // Log the movie ID if new and update UI
      if (!movieIdSet.has(mediaId)) {
        movieIdSet.add(mediaId);
        updateIdList("movieIdList", movieIdSet);
      }
    }

    // Play TV show and log ID
    function playTvShow() {
      const mediaId = document.getElementById("tvMediaId").value.trim();
      const seasonNumber = document.getElementById("seasonNumber").value.trim();
      const episodeNumber = document.getElementById("episodeNumber").value.trim();
      if (!mediaId || !seasonNumber || !episodeNumber) return alert("Please enter all details for the TV show.");
      const provider = document.getElementById("tvProvider").value;
      let url = "";
      switch (provider) {
        case "frembed":
          url = `https://vidsrc.xyz/embed/tv/${mediaId}/${seasonNumber}/${episodeNumber}`;
          break;
        case "superembed":
          url = `https://embed.su/embed/tv/${mediaId}/${seasonNumber}/${episodeNumber}`;
          break;
        case "smashystream":
          url = `https://vidsrc.net/embed/tv/${mediaId}/${seasonNumber}/${episodeNumber}`;
          break;
        case "autoembed":
          url = `https://vidsrc.in/embed/tv/${mediaId}/${seasonNumber}/${episodeNumber}`;
          break;
        case "upcloud":
          url = `https://vidsrc.cc/embed/tv/${mediaId}/${seasonNumber}/${episodeNumber}`;
          break;
        case "vidsrc":
          url = `https://vidsrc.to/embed/tv/${mediaId}/${seasonNumber}/${episodeNumber}`;
          break;
      }
      document.getElementById("tvPlayer").src = url;

      // Log the TV show ID if new and update UI
      if (!tvIdSet.has(mediaId)) {
        tvIdSet.add(mediaId);
        updateIdList("tvIdList", tvIdSet);
      }
    }
    function nextEpisode() {
  const episodeInput = document.getElementById("episodeNumber");
  let current = parseInt(episodeInput.value) || 1;
  episodeInput.value = current + 1;
  playTvShow();
}

function previousEpisode() {
  const episodeInput = document.getElementById("episodeNumber");
  let current = parseInt(episodeInput.value) || 1;
  if (current > 1) {
    episodeInput.value = current - 1;
    playTvShow();
  } else {
    alert("You're already on Episode 1!");
  }
}
  </script>
</body>
</html>
